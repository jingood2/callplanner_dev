module.exports = function(app) {

    var User = app.models.User;
    var Role = app.models.Role;
    var Principal = app.models.Principal;

    User.create(
        { username: 'Administrator', email: 'jinyoungk@realnetworks.com', password: 'c9744052' }
        , function(err, users) {
            if(err) return cb(err);

            // create the admin role
            Role.create({
                name: 'admin' 
            }, function(err, role) {
                if(err) return cb(err);

                // make username 'Administrator' an admin
                role.principals.create({
                    principalType : RoleMapping.USER, 
                    principalType : users[0].id
                }, function(err, principal) {
                    cb(err);
                });

            });
        });
};
